---
title: Installation
description: This section covers the steps for installing AI Observability Stack for AI agents and ML workloads in Kubernetes.
keywords:
  [
    "steps",
    "kubernetes",
    "helm",
    "ebpf",
    "monitoring",
    "ai",
    "ml",
    "observability",
  ]
---

<Step>
<StepItem title="Helm Installation (Recommended)">

**Step 1:** Add the AI Observability Stack Helm repository

```bash
helm repo add ai-observability https://aurva-io.github.io/ai-observability-stack
helm repo update
```

**Step 2:** Create a dedicated namespace

```bash
kubectl create namespace ai-observability
```

**Step 3:** Install with default configuration

```bash
helm install ai-observability-stack ai-observability/ai-observability-stack \
  --namespace ai-observability \
  --create-namespace
```

**Step 4:** Install with custom values (recommended for production)

Create a custom values file:

```bash
cat > custom-values.yaml << 'EOF'
global:
  namespace: aiostack-test

observer:
  enabled: true
  namespaceOverride: aiostack-test
  image:
    repository: public.ecr.aws/l5a6x1y4/aiostack-observer
    tag: bananav14
    pullPolicy: IfNotPresent
  resources:
    requests:
      memory: "64Mi"
      cpu: "100m"
    limits:
      memory: "128Mi"
      cpu: "200m"
  nodeSelector: {}
  tolerations: []
  affinity: {}
  dnsPolicy: ClusterFirst
  env:
    - name: COMPANY_ID
      value: "d9525740-beb5-401a-9e35-b487f6b30adc"
    - name: CONTROLLER_URL
      value: "aiostack-commander.aiostack-test.svc.cluster.local:8085"
    - name: IS_LOCAL_ENV
      value: "false"
    - name: MONITORING_ENABLED
      value: "false"
    - name: TRACE_SSL
      value: "true"
    - name: PROCFS_PATH
      value: "/proc"
    - name: TRACE_PSQL
      value: "false"
    - name: TRACE_SQLSERVER
      value: "false"
    - name: TRACE_MYSQL
      value: "false"
    - name: TRACE_EGRESS
      value: "true"
    - name: TRACE_GO_TLS
      value: "true"
    - name: TRACE_ML_SERVICES
      value: "true"
    - name: TRACE_HTTP
      value: "true"
    - name: TRACE_INTERNAL_SVC
      value: "true"
    - name: INTERNAL_SVC_SAMPLE_INTERVAL
      value: "0s"
    - name: LOGS_TTL
      value: "30s"
    - name: AGGREGATOR_MAX_CONNECTIONS
      value: "10000"
    - name: FLUSHER_WORKER_POOL_SIZE
      value: "10000"
    - name: TRACE_INTERNAL_SVC_HTTP
      value: "true"
    - name: ENABLE_METRICS
      value: "true"
    - name: ENABLE_PROFILING
      value: "false"
    - name: TRACE_AI_PROTOCOL
      value: "true"
    - name: INTERNAL_SVC_HTTP_SAMPLE_INTERVAL
      value: "0s"
    - name: CONNECTION_CHANNEL_SIZE
      value: "100"
    - name: SKIP_NAMESPACES
      value: "aurva-dataplane-staging,aurva-dataplane-uat,aurva-dataplane-prod,kube-system,aiostack-test,aiostack,monitoring,gke-mcs"
  serviceAccount:
    # -- Create a service account for the observer
    create: true
    # -- Service account name
    name: aiostack-observer-sa
    # -- Annotations applied to created service account
    annotations:
      # eks.amazonaws.com/role-arn: arn:aws:iam::<account-id>:role/<role-name>
    # -- Labels applied to created service account
    labels: {}

commander:
  enabled: true
  image:
    repository: public.ecr.aws/l5a6x1y4/aiostack-commander
    tag: bananav14
    pullPolicy: IfNotPresent
  replicaCount: 1
  service:
    type: ClusterIP
    port: 8085
    targetPort: 8085
  resources:
    requests:
      memory: "128Mi"
      cpu: "200m"
    limits:
      memory: "256Mi"
      cpu: "500m"
  env:
    - name: COMPANY_ID
      value: "d9525740-beb5-401a-9e35-b487f6b30adc"
    - name: LOG_ENV
      value: "production"
    - name: DB_HOST
      value: "aiostack-clickhouse.aiostack-test.svc.cluster.local"
    - name: DB_USER
      value: "aurva"
    - name: DB_PASSWORD
      value: "aurvaaiostack"
    - name: DB_DATABASE
      value: "aiostack"
    - name: DB_DEFAULT_DATABASE
      value: "default"
    - name: DB_PORT
      value: "9000"
  serviceAccount:
    # -- Create a service account for the commander
    create: true
    # -- Service account name
    name: aiostack-commander-sa
    # -- Annotations applied to created service account
    annotations:
      # eks.amazonaws.com/role-arn: arn:aws:iam::<account-id>:role/<role-name>
    # -- Labels applied to created service account
    labels: {}
  nodeSelector: {}
  tolerations: []
  affinity: {}

postgresql:
  enabled: false
  image:
    repository: postgres
    tag: "15"
    pullPolicy: IfNotPresent
  auth:
    postgresPassword: "aurva123"
    database: "global"
  persistence:
    enabled: true
    size: 10Gi
    storageClass: ""
  service:
    type: ClusterIP
    port: 5432

clickhouse:
  enabled: true
  replicaCount: 1
  image:
    repository: clickhouse/clickhouse-server
    tag: "24.8-alpine"
    pullPolicy: IfNotPresent
  auth:
    username: "aurva"
    database: "aiostack_logs"
    password: "aurvaaiostack"
  resources:
    limits:
      cpu: 1000m
      memory: 2Gi
    requests:
      cpu: 500m
      memory: 1Gi
  persistence:
    enabled: true
    size: 20Gi
  service:
    type: ClusterIP
    httpPort: 8123
    nativePort: 9000
    postgresqlPort: 9005
  config:
    logLevel: "information"
    maxMemoryUsage: 0.8
    maxServerMemoryUsage: 0.9
    timezone: "UTC"
    queryLog: false
    customSettings: |
      <merge_tree>
        <max_suspicious_broken_parts>100</max_suspicious_broken_parts>
        <parts_to_delay_insert>1000</parts_to_delay_insert>
        <parts_to_throw_insert>3000</parts_to_throw_insert>
      </merge_tree>
      <profiles>
        <default>
          <max_memory_usage>8000000000</max_memory_usage>
          <use_uncompressed_cache>0</use_uncompressed_cache>
          <load_balancing>random</load_balancing>
          <max_execution_time>300</max_execution_time>
        </default>
      </profiles>
EOF
```

Install with custom configuration:

```bash
helm install ai-observability-stack ai-observability/ai-observability-stack \
  --namespace ai-observability \
  --values custom-values.yaml 
```

</StepItem>
</Step>

{/* ---

<Step>
<StepItem title="Method 2: Manual Installation with kubectl">

**Step 1:** Clone the repository

```bash
git clone https://github.com/aurva-io/ai-observability-stack.git
cd ai-observability-stack
```

**Step 2:** Create namespace

```bash
kubectl create namespace ai-observability
```

**Step 3:** Apply RBAC configuration

```bash
kubectl apply -f manifests/rbac.yaml
```

**Step 4:** Create ConfigMap with configuration

```bash
cat > config.yaml << 'EOF'
tracing:
  sampling_rate: 1.0
  buffer_size: "64MB"

providers:
  openai:
    enabled: true
    track_costs: true
  anthropic:
    enabled: true
    track_costs: true
  huggingface:
    enabled: true

libraries:
  - pytorch
  - tensorflow
  - scikit-learn
  - transformers
  - langchain
  - llamaindex

export:
  prometheus:
    enabled: true
    port: 7470
  health_check:
    enabled: true
    port: 8080
EOF

kubectl create configmap ai-observability-config \
  --from-file=config.yaml=config.yaml \
  --namespace ai-observability
```

**Step 5:** Deploy the DaemonSet

```bash
kubectl apply -f manifests/daemonset.yaml -n ai-observability
```

**Step 6:** Create Service for metrics

```bash
kubectl apply -f manifests/service.yaml -n ai-observability
```

**Step 7:** (Optional) Deploy ServiceMonitor for Prometheus

```bash
kubectl apply -f manifests/servicemonitor.yaml -n ai-observability
```

</StepItem>
</Step>
--- */}


More methods of installation coming soon.