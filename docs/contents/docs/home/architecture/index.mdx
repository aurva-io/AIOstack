---
title: Architecture
description: Overview of the architecture of the AI Observability Stack.
keywords: ["architecture", "kubernetes", "nextjs", "documents"]
---



```
                      ┌─────────────────────────────────────────────────────────────────────────────────────┐
                      │                              Kubernetes Cluster                                     │
                      │                                                                                     │
                      │  ┌─────────────────────────────────────────────────────────────────────────────────┐ │
                      │  │                             Node 1                                             │ │
                      │  │                                                                                 │ │
                      │  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────────┐ │ │
                      │  │  │   Web App Pod   │    │  ML Training    │    │     eBPF Agent              │ │ │
                      │  │  │                 │    │     Pod         │    │    (DaemonSet)              │ │ │
                      │  │  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │  ┌─────────────────────────┐ │ │ │
                      │  │  │ │   Next.js   │ │    │ │ TensorFlow  │ │    │  │• Packet Capture        │ │ │ │
                      │  │  │ │   + GPT-4   │ │    │ │ + Hugging   │ │    │  │• SSL Inspector         │ │ │ │
                      │  │  │ │   calls     │ │    │ │   Face      │ │    │  │• API Classifier        │ │ │ │
                      │  │  │ └─────────────┘ │    │ └─────────────┘ │    │  │• Data Tagger           │ │ │ │
                      │  │  └─────────────────┘    └─────────────────┘    │  └─────────────────────────┘ │ │ │
                      │  │           │                       │             │             │              │ │ │
                      │  │           │ HTTP/HTTPS           │ HTTP/HTTPS  │             │ gRPC         │ │ │
                      │  │           └───────────────────────┼─────────────┘             │              │ │ │
                      │  └─────────────────────────────────────────────────────────────────────────────────┘ │
                      │                                                                         │             │
                      │  ┌─────────────────────────────────────────────────────────────────────────────────┐ │
                      │  │                             Node 2                                             │ │
                      │  │                                                                                 │ │
                      │  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────────┐ │ │
                      │  │  │ Data Pipeline   │    │   API Service   │    │     eBPF Agent              │ │ │
                      │  │  │     Pod         │    │      Pod        │    │    (DaemonSet)              │ │ │
                      │  │  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │  ┌─────────────────────────┐ │ │ │
                      │  │  │ │ Spark Job   │ │    │ │ FastAPI +   │ │    │  │• Packet Capture        │ │ │ │
                      │  │  │ │ + Claude    │ │    │ │ OpenAI      │ │    │  │• SSL Inspector         │ │ │ │
                      │  │  │ │   API       │ │    │ │ Embeddings  │ │    │  │• API Classifier        │ │ │ │
                      │  │  │ └─────────────┘ │    │ └─────────────┘ │    │  │• Data Tagger           │ │ │ │
                      │  │  └─────────────────┘    └─────────────────┘    │  └─────────────────────────┘ │ │ │
                      │  │           │                       │             │             │              │ │ │
                      │  │           │ HTTP/HTTPS           │ HTTP/HTTPS  │             │ gRPC         │ │ │
                      │  │           └───────────────────────┼─────────────┘             │              │ │ │
                      │  └─────────────────────────────────────────────────────────────────────────────────┘ │
                      │                                                                         │             │
                      │  ┌─────────────────────────────────────────────────────────────────────────────────┐ │
                      │  │                             Node 3                                             │ │
                      │  │                                                                                 │ │
                      │  │  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────────────────┐ │ │
                      │  │  │  Jupyter Lab    │    │  Background     │    │     eBPF Agent              │ │ │
                      │  │  │     Pod         │    │  Worker Pod     │    │    (DaemonSet)              │ │ │
                      │  │  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │  ┌─────────────────────────┐ │ │ │
                      │  │  │ │ Notebooks + │ │    │ │ Celery +    │ │    │  │• Packet Capture        │ │ │ │
                      │  │  │ │ Cohere API  │ │    │ │ Anthropic   │ │    │  │• SSL Inspector         │ │ │ │
                      │  │  │ │ Calls       │ │    │ │ Claude      │ │    │  │• API Classifier        │ │ │ │
                      │  │  │ └─────────────┘ │    │ └─────────────┘ │    │  │• Data Tagger           │ │ │ │
                      │  │  └─────────────────┘    └─────────────────┘    │  └─────────────────────────┘ │ │ │
                      │  │           │                       │             │             │              │ │ │
                      │  │           │ HTTP/HTTPS           │ HTTP/HTTPS  │             │ gRPC         │ │ │
                      │  │           └───────────────────────┼─────────────┘             │              │ │ │
                      │  └─────────────────────────────────────────────────────────────────────────────────┘ │
                      └─────────────────────────────────────────────────────────┬───────────────────────────┘
                                                                                │
                                                                                │
                                    ┌──────────────────────────────────────────┘
                                    │
                                    │ Aggregated Data Stream
                                    ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              Controller Service                                     │
│                                                                                     │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐                │
│  │ Data Ingestion  │    │ ML Classifier   │    │  Policy Engine  │                │
│  │    Service      │    │                 │    │                 │                │
│  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │                │
│  │ │ Aggregation │ │    │ │ PII Detection│ │    │ │ Risk Scoring│ │                │
│  │ │ Deduplication│ │    │ │ Data Type   │ │    │ │ Compliance  │ │                │
│  │ │ Enrichment  │ │    │ │ Classification│ │   │ │ Rules       │ │                │
│  │ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │                │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                     │
                                     │ SQL/gRPC
                                     ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              Data Layer                                             │
│                                                                                     │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐                │
│  │   PostgreSQL    │    │   Vector DB     │    │   Object Store  │                │
│  │  (StatefulSet)  │    │  (pgvector/     │    │   (MinIO/S3)    │                │
│  │                 │    │   Weaviate)     │    │                 │                │
│  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │                │
│  │ │• API calls  │ │    │ │• Embeddings │ │    │ │• Request/   │ │                │
│  │ │• Metadata   │ │    │ │• Similarity │ │    │ │  Response   │ │                │
│  │ │• Risk scores│ │    │ │• Clustering │ │    │ │  Payloads   │ │                │
│  │ │• Policies   │ │    │ │             │ │    │ │• Large data │ │                │
│  │ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │                │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                     │
                                     │ HTTP/gRPC
                                     ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              Gateway Service                                        │
│                                                                                     │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐                │
│  │  Auth Service   │    │   API Gateway   │    │  Query Engine   │                │
│  │                 │    │                 │    │                 │                │
│  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │                │
│  │ │• JWT/RBAC   │ │    │ │• Rate Limit │ │    │ │• Aggregation│ │                │
│  │ │• Multi-tenant│ │   │ │• Validation │ │    │ │• Filtering  │ │                │
│  │ │• API Keys   │ │    │ │• CORS       │ │    │ │• Analytics  │ │                │
│  │ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │                │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘
                                     │
                                     │ HTTPS/WebSocket
                                     ▼
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              Frontend (Next.js)                                    │
│                                                                                     │
│  ┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐                │
│  │  Discovery UI   │    │  Classification │    │ Risk Dashboard  │                │
│  │                 │    │       UI        │    │                 │                │
│  │ ┌─────────────┐ │    │ ┌─────────────┐ │    │ ┌─────────────┐ │                │
│  │ │• Service Map│ │    │ │• Data Types │ │    │ │• Compliance │ │                │
│  │ │• API Flows  │ │    │ │• Tagging    │ │    │ │• Risk Scores│ │                │
│  │ │• Providers  │ │    │ │• Categories │ │    │ │• Trends     │ │                │
│  │ └─────────────┘ │    │ └─────────────┘ │    │ └─────────────┘ │                │
│  └─────────────────┘    └─────────────────┘    └─────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────┘

External AI Providers:
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   OpenAI    │    │  Anthropic  │    │ Hugging Face│    │   Cohere    │
│  (GPT-4/3.5)│    │  (Claude)   │    │ (Models Hub)│    │ (Command-R) │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
       ▲                   ▲                   ▲                   ▲
       │                   │                   │                   │
       └───────────────────┴───────────────────┴───────────────────┘
                            │
                    eBPF Agents Intercept
                       All Traffic
```

